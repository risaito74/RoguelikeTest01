# GameManager リファクタリング検証手順

## 変更内容の概要
`GameManager.cs` のマップ描画ロジックをリファクタリングし、静的なマップデータと動的なグリッドデータを分離しました。

### 主な変更点
- `string[] mapData` を廃止し、`static readonly string[] baseMapData` と `char[][] gridData` に分離。
- 描画処理を `ResetGrid`（初期化） → `PlaceCharacters`（キャラ配置） → `RenderGrid`（テキスト化）のパイプラインに変更。
- **最適化**: `ResetGrid` において `string.CopyTo` を使用し、メモリ確保（GC Allocation）が発生しない実装に変更しました。
- プレイヤーの移動判定を `baseMapData` に対して行うように変更。

## 検証手順

### 1. マップ描画の確認
1. Unityエディタでゲームを再生（Playモード）します。
2. Gameビューにマップが表示されることを確認してください。
   - 期待値: 変更前と同じマップレイアウトが表示されること。
   ```text
   #####  ###
   #...####.#
   #..@.....#  <-- 初期位置に @ がいる
   #...######
   #####     
   ```

### 2. プレイヤー移動の確認
1. 画面上のボタン（Up, Down, Left, Right）をクリックします。
2. プレイヤー（`@`）が正しく移動することを確認してください。
   - 期待値: `@` の位置が更新され、以前の場所が `.`（床）に戻ること。

### 3. 壁判定の確認
1. プレイヤーを壁（`#`）の隣まで移動させます。
2. 壁に向かって移動ボタンを押します。
3. 移動がブロックされ、メッセージエリアに "Kabe ni butsukatta!" と表示されることを確認してください。
   - 期待値: プレイヤーの位置が変わらず、壁を通過しないこと。

## 補足
まだNPCやエネミーは実装されていませんが、`UpdateMapDisplay` 内の `PlaceCharacters` メソッドにコメントとして拡張ポイントを記述しています。
